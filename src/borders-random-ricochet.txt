TwoDRObject topBorder = TwoDRObject(OLED_WIDTH, 1);
TwoDRObject bottomBorder = TwoDRObject(OLED_WIDTH, 1);
TwoDRObject leftBorder = TwoDRObject(1, OLED_HEIGHT - 2);
TwoDRObject rightBorder = TwoDRObject(1, OLED_HEIGHT - 2);

topBorder.draw(oledDisplay, {0, 0}, TL);
bottomBorder.draw(oledDisplay, {0, OLED_HEIGHT - 1}, TL);
leftBorder.draw(oledDisplay, {0, 1}, TL);
rightBorder.draw(oledDisplay, {OLED_WIDTH - 1, 1}, TL);

TwoDRObject pixelBall = TwoDRObject(5, 5);
pixelBall.draw(oledDisplay, {OLED_WIDTH / 2, OLED_HEIGHT / 2}, C);

oledDisplay.display();

bool isDiagonalRandomTime = false;

uint8_t currentDirection;

while (true) {
    if (isDiagonalRandomTime) {
        currentDirection = random(4, 8);
    } else {
        currentDirection = random(0, 4);
    }

    while (!pixelBall.isMoveCollision(topBorder, currentDirection) &&
           !pixelBall.isMoveCollision(bottomBorder, currentDirection) &&
           !pixelBall.isMoveCollision(leftBorder, currentDirection) &&
           !pixelBall.isMoveCollision(rightBorder, currentDirection)) {
        pixelBall.move(oledDisplay, currentDirection);
        oledDisplay.display();
        delayMicroseconds(500);
    }

    isDiagonalRandomTime = !isDiagonalRandomTime;
}